<html>
	<head><title>Test</title>
	</head>
	<body onload="loadit()">
		<h2>Testing form inside a frame</h2>
		<div id="mainContent">
		</div>
		<script type="text/javascript">
		"use strict";
			function loadit(){
				var iframeDoc = "";
				var html = // '<iframe id="iframe">'+
					'<html><head></head>'+
					'	<body>'+
					'		<form id="myForm" method="post" action="http://apps/rentpro" onsubmit="alert(\"Submitting\");return true;">'+
					'			<input type="text" name="yourname" value="name" />'+
					'			<textarea name="notes">'+
					'				this is a test'+
					'			</textarea>'+
					'			<input type="submit" name="action" value="Submit"/>'+
					'		</form>'+
					'	</body>'+
					'</html>';
				var iframe = document.createElement('iframe');
				iframe.setAttribute('id','myiframe');
				iframe.setAttribute('name','myiframe');				
				iframe.border='0px'; // 0px later
				iframe.width='500';
				iframe.height='400';
				document.body.appendChild(iframe);
				if(iframe.contentWindow){
					iframeDoc = iframe.contentWindow.document;
					iframeDoc.write(html);
				}
				
				if(iframe.addEventListener){
					iframe.addEventListener(
						"load",
						function(evt){
							var back = "Empty";
							var target = evt.target;
							if(target.contentDocument){													alert(target.contentDocument.getElementsByTagName('body')[0].innerHTML);
							}
						},
						false
					);
				}
				else{
					alert("no event");
				}

				var form = iframe.contentWindow.document.getElementById('myForm');
				if(form){
					form.submit();
				}
				/*
				frame = document.getElementById('mainContent');
				var frDoc = frame.contentWindow.document;
				html = frDoc.body.innerHTML;
				// alert(html);
				frame = document.getElementById('iframe2');
				// var txt = frame.textContent;
				// alert(txt);
				
				frame.contentWindow.document.body.innerHTML = html;
				*/
			}
		</script>
	</body>
</html>


					